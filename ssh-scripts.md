# SSH脚本页面

## 页面路径
管理后台 → SSH脚本（`/admin/ssh_scripts`）

## 页面功能
- 管理和复用Shell脚本片段
- 创建、编辑、删除脚本
- 按分类组织脚本
- 搜索和筛选脚本
- 预览脚本内容和变量说明
- 记录脚本使用次数

## 页面布局

### 搜索和筛选区域
- **搜索框**：按脚本名称、内容、描述或标签搜索
- **分类筛选**：按分类筛选脚本（全部、系统维护、监控检查、部署发布、安全加固、网络管理、备份恢复、自定义）

### 脚本列表
每个脚本卡片显示：
- **脚本名称**：脚本的显示名称
- **分类标签**：显示脚本所属分类（带图标）
- **描述**：脚本的功能说明
- **标签**：自定义标签（用于进一步分类）
- **变量数量**：脚本包含的环境变量数量
- **使用次数**：脚本被使用的次数统计
- **快捷操作**：复制、预览、编辑、删除

### 脚本预览
点击"预览"按钮展开显示：
- **环境变量**：变量名称、描述和默认值
- **脚本内容**：完整的Shell脚本代码
- **使用示例**：示例命令和说明

## 操作步骤

### 创建新脚本
1. 点击页面右上角的"新增脚本"按钮
2. 填写脚本信息：
   - **脚本名称**：如"清理日志"、"检查磁盘空间"
   - **脚本内容**：Shell脚本代码
   - **分类**：选择脚本所属分类
     - 系统维护：系统维护相关的脚本
     - 监控检查：监控和检查相关的脚本
     - 部署发布：部署和发布相关的脚本
     - 安全加固：安全加固相关的脚本
     - 网络管理：网络管理相关的脚本
     - 备份恢复：备份和恢复相关的脚本
     - 自定义：其他自定义脚本
   - **描述**：脚本的功能说明
   - **标签**：自定义标签（多个标签用逗号分隔）
3. **添加环境变量**（可选）：
   - 点击"添加变量"按钮
   - 填写变量名称、描述和默认值
   - 可添加多个变量
4. **添加使用示例**（可选）：
   - 点击"添加示例"按钮
   - 填写示例描述和命令
   - 可添加多个示例
5. 点击"保存"按钮
6. 脚本创建成功，显示在脚本列表中

### 编辑脚本
1. 在脚本列表中找到要编辑的脚本
2. 点击脚本卡片右上角的"编辑"图标
3. 修改脚本信息（名称、内容、分类、描述、标签）
4. 修改环境变量或示例（添加、编辑、删除）
5. 点击"保存"按钮
6. 修改成功，脚本信息更新

### 预览脚本
1. 在脚本列表中找到要预览的脚本
2. 点击脚本卡片右上角的"预览"图标（眼睛图标）
3. 脚本卡片展开，显示：
   - 环境变量列表（如果有）
   - 完整的脚本代码
   - 使用示例（如果有）
4. 再次点击"预览"图标可收起预览

### 复制脚本
1. 在脚本列表中找到要复制的脚本
2. 点击脚本卡片右上角的"复制"图标
3. 脚本内容已复制到剪贴板
4. 可以在SSH终端或其他地方粘贴使用

### 删除脚本
1. 在脚本列表中找到要删除的脚本
2. 点击脚本卡片右上角的"删除"图标（垃圾桶图标）
3. 确认删除操作
4. 脚本删除成功，从列表中移除

### 搜索脚本
1. 在搜索框输入关键词（脚本名称、内容、描述或标签）
2. 输入后自动过滤，只显示匹配的脚本
3. 清空搜索框可显示所有脚本

### 按分类筛选
1. 在分类筛选区域点击分类按钮（如"系统维护"、"监控检查"）
2. 列表只显示该分类下的脚本
3. 点击"全部"显示所有脚本

## 脚本分类说明

- **系统维护**：系统维护相关脚本，如清理日志、更新系统、重启服务等
- **监控检查**：监控和检查相关脚本，如检查磁盘空间、内存使用、服务状态等
- **部署发布**：部署和发布相关脚本，如部署应用、更新代码、发布版本等
- **安全加固**：安全加固相关脚本，如配置防火墙、更新安全补丁、审计日志等
- **网络管理**：网络管理相关脚本，如配置网络、测试连通性、管理路由等
- **备份恢复**：备份和恢复相关脚本，如备份数据、恢复文件、同步备份等
- **自定义**：其他自定义脚本，不归属于以上分类的脚本

## 使用建议

- **脚本命名**：使用清晰的脚本名称，便于快速识别功能
- **分类组织**：将脚本归类到合适的分类，便于管理和查找
- **添加描述**：为脚本添加详细描述，说明用途和使用场景
- **使用标签**：为脚本添加标签，支持更细粒度的分类和搜索
- **变量说明**：为脚本中使用的环境变量添加说明和默认值，便于使用
- **提供示例**：添加使用示例，帮助其他用户快速理解和使用脚本

## 注意事项

- **脚本内容**：确保脚本代码正确，避免语法错误
- **权限要求**：脚本在服务器上执行时，需要相应的权限
- **使用统计**：脚本使用次数会在使用后自动更新
- **删除操作**：删除脚本后无法恢复，请谨慎操作


