# 网络监控配置页面

## 📍 页面路径
管理后台 → 网络监控配置（`/admin/monitor`）

## 🎯 页面功能
- 管理监控地区（创建、编辑、删除）
- 管理监控目标（创建、编辑、删除）
- 为监控目标绑定检测节点
- 查看监控统计信息（总目标数、在线数、离线数）
- 搜索和筛选监控目标

## 📋 页面布局

### 统计信息
显示监控概览：
- **总目标数**：所有监控目标的数量
- **在线数**：当前在线的目标数量
- **离线数**：当前离线的目标数量

### 地区管理
可折叠的区域，显示所有监控地区：
- **地区列表**：以卡片形式显示，包含地区名称和描述
- **新增地区**：快速创建新地区
- **编辑/删除**：管理现有地区

### 监控目标列表
表格形式显示所有监控目标：
- **目标名称**：监控目标的显示名称
- **地址:端口**：目标的主机地址和端口
- **所属地区**：目标所属的监控地区
- **绑定节点**：用于检测该目标的节点
- **状态**：在线/离线/异常状态
- **操作**：编辑、删除、选择节点

### 搜索和筛选
- **搜索框**：按目标名称、地址或描述搜索
- **地区筛选**：按所属地区筛选
- **状态筛选**：按在线/离线/异常状态筛选

## 🔧 操作步骤

### 创建监控地区
1. 点击页面顶部的"新增地区"按钮（或在地区管理区域点击"新增"）
2. 在弹出的对话框中输入：
   - **地区名称**：如"华北地区"、"海外节点"
   - **地区描述**：可选，描述该地区的用途
3. 点击"保存"按钮
4. 地区创建成功，显示在地区管理区域

### 创建监控目标
1. 点击"新增目标"按钮
2. 填写目标信息：
   - **目标名称**：如"API服务器"、"Web服务"
   - **所属地区**：选择目标所属的地区
   - **主机地址**：目标的主机名或IP地址（如 `api.example.com`）
   - **端口**：目标端口号（TCP检测时必需）
   - **检测类型**：
     - **TCP连接**：检测指定端口的TCP连接（需要端口）
     - **Ping**：ICMP ping检测（不需要端口）
   - **描述**：可选，描述该监控目标
3. **绑定节点**（可选）：
   - 点击"选择节点"按钮
   - 在抽屉中选择用于检测该目标的节点
   - 可以按分组、国家、标签筛选节点
   - 支持全选、反选、只选在线节点
   - 点击"保存选择"确认
4. 点击"保存"按钮
5. 目标创建成功，显示在监控目标列表中

### 编辑监控目标
1. 在监控目标列表中找到要编辑的目标
2. 点击目标行的"编辑"按钮
3. 修改目标信息（名称、地区、地址、端口、检测类型、描述）
4. 如需修改绑定节点，点击"选择节点"重新选择
5. 点击"保存"按钮
6. 修改成功，目标信息更新

### 绑定检测节点
1. 在目标编辑对话框中点击"选择节点"按钮
2. 节点选择抽屉从右侧打开
3. **筛选节点**（可选）：
   - 按分组筛选：展开"分组"筛选器，选择分组
   - 按国家筛选：展开"国家"筛选器，选择国家
   - 按标签筛选：展开"标签"筛选器，选择标签
   - 点击"在线"按钮只显示在线节点
4. **选择节点**：
   - 勾选要用于检测该目标的节点
   - 或使用"全选"、"反选"、"在线"按钮批量选择
5. 查看已选择节点数量
6. 点击"保存选择"按钮
7. 选择的节点保存成功，用于检测该目标

### 删除监控目标
1. 在监控目标列表中找到要删除的目标
2. 点击目标行的"删除"按钮
3. 确认删除操作
4. 目标删除成功，从列表中移除

### 批量删除目标
1. 在监控目标列表中勾选要删除的目标（可多选）
2. 批量操作栏自动显示
3. 点击"批量删除"按钮
4. 确认删除操作
5. 选中的目标批量删除成功

### 搜索和筛选
1. **搜索目标**：
   - 在搜索框输入关键词（目标名称、地址或描述）
   - 列表自动过滤显示匹配的目标
2. **按地区筛选**：
   - 在地区筛选下拉框中选择地区
   - 列表只显示该地区的目标
3. **按状态筛选**：
   - 在状态筛选下拉框中选择状态（在线/离线/异常）
   - 列表只显示该状态的目标

## ⚠️ 注意事项

- **检测类型**：
  - TCP连接（tcping）：需要指定端口，检测指定端口的TCP连接状态
  - Ping：不需要端口，检测ICMP ping可达性
- **节点绑定**：
  - 自动模式：不选择节点时，使用所有可用节点进行检测
  - 指定模式：选择节点后，只使用选定的节点进行检测
- **端口要求**：TCP检测类型必须填写端口，Ping检测类型不需要端口
- **地区用途**：地区用于对监控目标进行分类管理，不影响检测功能

## 💡 使用建议

- **地区规划**：按地理位置或业务类型创建地区（如：国内、海外、生产环境、测试环境）
- **目标命名**：使用清晰的目标名称，便于识别和管理
- **节点选择**：根据目标的位置选择就近的检测节点，提高检测准确性
- **检测类型**：TCP检测适合检测服务端口可用性，Ping检测适合检测网络连通性



